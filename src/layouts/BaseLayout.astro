---
// tipos
import type { Props } from "../types/types.ts";

// estilos globales
import "../styles/global.css";

// view transition
import { ClientRouter } from "astro:transitions";

// componentes
import StructuredData from "../componentes/StructuredData.astro";
import Header from "../componentes/Header.astro";

// contenedor estilos
import ContenedorEstilos from "../layouts/ContenedorEstilos.tsx";

// analítica
import Analytics from "@vercel/analytics/astro";
const { pageTitle }: Props = Astro.props;
---

<html lang="es" translate="yes">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/png" href="/assets/imgs/cat-favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content={Astro.generator} />
    <meta
      name="robots"
      content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"
    />
    <meta
      name="keywords"
      content="desarrollo web, minimalista, frontend, JAMStack, costa rica, gato, rojo, desarrollo, web, accesible, práctico, landing page, tienda en línea, blog, proyectos web, veganismo, minimalismo, diseño web, desarrollo web accesible, desarrollo web rápido, desarrollo web moderno, desarrollo web react, desarrollo web astro"
    />
    <meta name="language" content="es" />
    <title>
      {pageTitle ?? "Gato Rojo Lab · Desarrollo web minimalista y práctico"}
    </title>

    <!-- políticas de seguridad -->
    <meta
      http-equiv="Content-Security-Policy"
      content="
      default-src 'self';
      script-src 'self' https://vercel.live https://analytics.vercel.com;
      style-src 'self' 'unsafe-inline';
      img-src 'self' data: https://gatorojolab.com;
      font-src 'self';
      connect-src 'self' https://analytics.vercel.com;
      frame-src 'none';
      object-src 'none';
      base-uri 'self';
      form-action 'self';
      manifest-src 'self';
      media-src 'self';
      worker-src 'self';
      child-src 'self';
    "
    />

    <!-- Meta descripción -->
    <meta
      name="description"
      content="Gato Rojo Lab: Desarrollo web minimalista y práctico."
    />

    <!-- Meta para redes sociales (Open Graph) -->
    <meta property="og:title" content={pageTitle} />
    <meta
      property="og:description"
      content="Gato Rojo Lab: Desarrollo web minimalista y práctico."
    />
    <meta property="og:image" content="/images/og-image.jpg" />
    <meta property="og:url" content="https://gatorojolab.com" />
    <meta property="og:type" content="website" />
    <meta property="og:locale" content="es_ES" />
    <meta property="og:site_name" content="Gato Rojo Lab" />

    <!-- Hreflang -->
    <link rel="alternate" hreflang="es" href="https://gatorojolab.com" />
    <link rel="alternate" hreflang="x-default" href="https://gatorojolab.com" />

    <!-- Canonical -->
    <link rel="canonical" href="https://gatorojolab.com" />

    <!-- Structured Data -->
    <StructuredData />

    <ClientRouter />
  </head>
  <ContenedorEstilos client:only="react">
    <body>
      <Header />
      <slot />
      <Analytics />
    </body>
  </ContenedorEstilos>
</html>
