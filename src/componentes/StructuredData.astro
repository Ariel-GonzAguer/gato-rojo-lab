---
import { createHash } from 'node:crypto';

const ld = {
  "@context": "https://schema.org",
  "@type": "LocalBusiness",
  name: "Gato Rojo Lab - Desarrollo web minimalista y práctico",
  url: "https://gatorojolab.com",
  image: "https://gatorojolab.com/assets/imgs/cat-favicon.png",
  description: "Empresa de desarrollo web minimalista y práctico.",
  address: {
    "@type": "PostalAddress",
    addressLocality: "Desamparados",
    addressRegion: "San José",
    addressCountry: "CR",
  },
  geo: {
    "@type": "GeoCoordinates",
    latitude: 9.869851,
    longitude: -84.078968,
  },
  openingHoursSpecification: [
    {
      "@type": "OpeningHoursSpecification",
      dayOfWeek: ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
      opens: "10:00",
      closes: "17:00",
    },
  ],
  contactPoint: {
    "@type": "ContactPoint",
    contactType: "customer support",
    telephone: "+506 6368 5484",
    availableLanguage: ["Spanish", "English"],
  },
};

const json = JSON.stringify(ld);
const hash = (`sha256-${createHash('sha256').update(json, 'utf8').digest('base64')}`) as `sha256-${string}`;
// Añadimos el hash del bloque JSON-LD a la CSP experimental de Astro
Astro.insertScriptHash(hash);
---
<script type="application/ld+json" set:html={json}></script>
